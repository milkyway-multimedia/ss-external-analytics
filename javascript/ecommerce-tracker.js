var EA=function(e,n){function o(n,o,r){if(e.ecommerceTriggers.hasOwnProperty(n)){r&&r.constructor===Array||(r=r?[r]:o._except||[]);for(var t in e.ecommerceTriggers[n])e.ecommerceTriggers[n].hasOwnProperty(t)&&-1===r.indexOf(t)&&e.ecommerceTriggers[n][t].call(this,o)}}e.hasOwnProperty("ecommerceTriggers")||(e.ecommerceTriggers={}),e.ecommerce={impression:function(e,n){o("impression",e,n)},viewedProductDetails:function(e,n){o("viewedProductDetails",e,n)},choseProduct:function(e,n){o("choseProduct",e,n)},addToCart:function(e,n){o("addToCart",e,n)},removeFromCart:function(e,n){o("removeFromCart",e,n)},currency:function(e,n){o("currency",e,n)},step:function(e,n){o("step",e,n)},promo:function(e,n){o("promo",e,n)},transaction:function(e,n){o("transaction",e,n)},refund:function(e,n){o("refund",e,n)}};var r=[];if(e.hasOwnProperty("shop")){var t,c,i,s,a,m,u=function(o,r,t,c){"immediately"!==r&&isNaN(r)?(t=t?"once":"on",d[t](r,function(){e.ecommerce[c](o),e.conversion&&o.hasOwnProperty("_trackConversion")&&e.conversion(n.extend({},o._defaults||{},o._trackConversion)),e.event&&o.hasOwnProperty("_trackEvent")&&e.event(n.extend({},o._defaults||{},o._trackEvent))})):(setTimeout(function(){e.ecommerce[c](o)},2e3),e.conversion&&o.hasOwnProperty("_trackConversion")&&setTimeout(function(){e.conversion(n.extend({},o._defaults||{},o._trackConversion))},2e3),e.event&&o.hasOwnProperty("_trackEvent")&&setTimeout(function(){e.event(n.extend({},o._defaults||{},o._trackEvent))},2e3))};for(t in e.shop)if(e.shop.hasOwnProperty(t)){m=e.shop[t].action||"impression",i=e.shop[t].events||[t],s=e.shop[t].element||window,a=e.shop[t].once||!1,"window"===s?s=window:"document"===s&&(s=document);var d=n(s);for(c=0;c<i.length;c++)-1===r.indexOf(t+":"+i[c])&&(r.push(t+":"+i[c]),u(e.shop[t],i[c],a,m))}}return e}(window.EA||{},window.jQuery||window.Zepto||window.Sprint||(window.mwm&&mwm.jquery?mwm.jquery:null));