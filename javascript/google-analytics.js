var EA=window.EA||{GA:{}};EA.GA=function(e,r){var t=e.GA||{trackers:{}},o=t.configuration||{},a=[],n=[],c=1,i=function(e){return-1!==a.indexOf(e)},s=function(e){return-1!==n.indexOf(e)},u=function(e,r){s(e)||"send"==r[0]&&(null!==r[1]&&"object"==typeof r[1]&&"pageview"==r[1].hitType||"pageview"==r[1])&&n.push(e)},d=function(e,r,t){t.hasOwnProperty("arguments")?(t.arguments[0]!=r&&t.arguments.unshift(r),u(e,t.arguments),window[e].apply(this,t.arguments)):t.constructor===Array?(t[0]!=r&&t.unshift(r),u(e,t),window[e].apply(this,t)):(u(e,[r,t]),window[e](r,t))},m=function(e,r){for(var t in r)if(r.hasOwnProperty(t))if(r[t].constructor===Array)for(var o=0;o<r[t].length;o++)d(e,t,r[t][o]);else d(e,t,r[t])},g=function(e){!function(e,r,t,o,a,n,c){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,n=r.createElement(t),c=r.getElementsByTagName(t)[0],n.async=1,n.src=o,c.parentNode.insertBefore(n,c)}(window,document,"script","//www.google-analytics.com/analytics.js",e)},l={onLoad:function(t){return function(){a.push(t),e.hasOwnProperty("eventTriggers")||(e.eventTriggers={}),e.eventTriggers["GA-"+t]=e.GA.trackers[t].sendEvent,e.GA.trackers[t].trackers=window[t].getAll(),r(window).trigger("ea::loaded:google-analytics",[e.GA.trackers[t],t]);var o;if(e.GA.hasOwnProperty("initCallbacks"))for(o in e.GA.initCallbacks)e.GA.initCallbacks.hasOwnProperty(o)&&e.GA.initCallbacks[o].call(e.GA.trackers[t],t,e.GA.trackers[t].trackers,d);if(e.GA.trackers[t].hasOwnProperty("initCallbacks"))for(o in e.GA.trackers[t].initCallbacks)e.GA.trackers[t].initCallbacks.hasOwnProperty(o)&&e.GA.trackers[t].initCallbacks[o].call(e.GA.trackers[t],e.GA.trackers[t].trackers,d)}}};e.hasOwnProperty("GA")||(e.GA={}),e.GA.hasOwnProperty("trackers")||(e.GA.trackers={}),t.configure=function(e){l=r.extend(!0,{},l,e)},t.addNewTracker=function(r,o,a){g(r),e.GA.trackers.hasOwnProperty(r)||(e.GA.trackers[r]={}),e.GA.trackers[r].variable=r,e.GA.trackers[r].sendEvent=function(e){e.hasOwnProperty("hitType")||(e.hitType="event"),d(r,"send",e)},o&&t.loadAttributesForVariable(r,o),a||(a=l.onLoad(r)),window[r](a)},t.pageViewed=s,t.loaded=i,t.loadAttributesForVariable=function(r,t){i(r)?m(r,t):(e.GA.trackers.hasOwnProperty(r)||(e.GA.trackers[r]={}),e.GA.trackers[r].hasOwnProperty("initCallbacks")||(e.GA.trackers[r].initCallbacks={}),m(r,t),c++)};for(var p in o)if(o.hasOwnProperty(p)){var A=o[p].attributes||{},y={};o[p].tracking_id&&(y.create=[{arguments:[o[p].tracking_id,"auto"]}]),o[p].pageview&&(y.send=["pageview",{}]),t.addNewTracker(p,r.extend({},y,A))}return t}(window.EA||{},window.jQuery||window.Zepto||window.Sprint||(window.mwm&&mwm.jquery?mwm.jquery:null));var EA=window.EA||{GA:{}};EA.GA=function(e,r){function t(e,t,o){return r.extend(!0,A.hasOwnProperty(e)?A[e]:{},o&&o.hasOwnProperty("configuration")?o.configuration:{},t)}function o(r,o,a){o=t("product",o,a),o.id&&o.name&&(o.product_category&&!o.category&&(o.category=o.product_category),e.GA.loadAttributesForVariable(r,{"ec:addImpression":o}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"impression",eventLabel:o.name,eventValue:o.hasOwnProperty("price")?Math.round(o.price):0}})))}function a(r,o,a){o=t("product",o,a),o.id&&o.name&&(o.product_category&&!o.category&&(o.category=o.product_category),e.GA.loadAttributesForVariable(r,{"ec:addProduct":o,"ec:setAction":"detail"}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"product-details",eventLabel:o.name,eventValue:o.hasOwnProperty("price")?Math.round(o.price):0}})))}function n(r,o,a){o=t("product",o,a),o.id&&o.name&&(o.product_category&&!o.category&&(o.category=o.product_category),e.GA.loadAttributesForVariable(r,{"ec:addProduct":o,"ec:setAction":"click"}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"product-selected",eventLabel:o.name,eventValue:o.hasOwnProperty("price")?Math.round(o.price):0}})))}function c(r,o,a){o=t("product",o,a),o.id&&o.name&&(o.product_category&&!o.category&&(o.category=o.product_category),e.GA.loadAttributesForVariable(r,{"ec:addProduct":o,"ec:setAction":"add"}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"add-to-cart",eventLabel:o.name,eventValue:Math.round(o.quantity*o.price)}})))}function i(r,o,a){o=t("product",o,a),o.id&&o.name&&(o.product_category&&!o.category&&(o.category=o.product_category),e.GA.loadAttributesForVariable(r,{"ec:addProduct":o,"ec:setAction":"remove"}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"removed-from-cart",eventLabel:o.name,eventValue:Math.round(o.quantity*o.price)}})))}function s(r,t){null===t||"object"==typeof t&&!t.currency||e.GA.loadAttributesForVariable(r,{set:["&cu","object"==typeof t?t.currency:t]})}function u(r,o,a){if(o=t("checkout",o,a),o.action){var n=o.action;if(-1===["detail","click","add","remove","checkout","checkout_option","purchase","refund"].indexOf(o.action)&&(n="checkout"),!o.ignoreItems)var c=w(o,{variable:r});if(e.GA.loadAttributesForVariable(r,{"ec:setAction":{arguments:[n,o]}}),e.GA.pageViewed(r)){o.hasOwnProperty("currency")&&s(r,o,a);var i=[];o.step&&i.push("step:"+o.step),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:o.action,eventValue:Math.round(o.total||c)}})}}}function d(r,o,a){o=t("promo",o,a),o.id&&(e.GA.loadAttributesForVariable(r,{"ec:addPromo":o}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"promo",eventLabel:o.id}})))}function m(r,o,a){if(o=t("transaction",o,a),o.id){var n={variable:r};o.ignoreItems&&(n.totalOnly=!0);var c=w(o,n);e.GA.loadAttributesForVariable(r,{"ec:setAction":{arguments:["purchase",o]}}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"transaction",eventLabel:o.id,eventValue:Math.round(o.total||c)}}))}}function g(r,o,a){if(o=t("transaction",o,a),o.id){var n={variable:r};o.ignoreItems&&(n.totalOnly=!0);var c=w(o,n);e.GA.loadAttributesForVariable(r,{"ec:setAction":{arguments:["refund",o]}}),e.GA.pageViewed(r)&&(o.hasOwnProperty("currency")&&s(r,o,a),e.GA.loadAttributesForVariable(r,{send:{hitType:"event",eventCategory:"ecommerce",eventAction:"refund",eventLabel:o.id,eventValue:Math.round(o.total||c)}}))}}function l(r,t){e.ecommerceTriggers.hasOwnProperty("impression")||(e.ecommerceTriggers.impression={}),e.ecommerceTriggers.impression["GA-"+r]=function(e){o(r,e,t)},e.ecommerceTriggers.hasOwnProperty("viewedProductDetails")||(e.ecommerceTriggers.viewedProductDetails={}),e.ecommerceTriggers.viewedProductDetails["GA-"+r]=function(e){a(r,e,t)},e.ecommerceTriggers.hasOwnProperty("choseProduct")||(e.ecommerceTriggers.choseProduct={}),e.ecommerceTriggers.choseProduct["GA-"+r]=function(e){n(r,e,t)},e.ecommerceTriggers.hasOwnProperty("addToCart")||(e.ecommerceTriggers.addToCart={}),e.ecommerceTriggers.addToCart["GA-"+r]=function(e){c(r,e,t)},e.ecommerceTriggers.hasOwnProperty("removeFromCart")||(e.ecommerceTriggers.removeFromCart={}),e.ecommerceTriggers.removeFromCart["GA-"+r]=function(e){i(r,e,t)},e.ecommerceTriggers.hasOwnProperty("currency")||(e.ecommerceTriggers.currency={}),e.ecommerceTriggers.currency["GA-"+r]=function(e){s(r,e,t)},e.ecommerceTriggers.hasOwnProperty("step")||(e.ecommerceTriggers.step={}),e.ecommerceTriggers.step["GA-"+r]=function(e){u(r,e,t)},e.ecommerceTriggers.hasOwnProperty("promo")||(e.ecommerceTriggers.promo={}),e.ecommerceTriggers.promo["GA-"+r]=function(e){d(r,e,t)},e.ecommerceTriggers.hasOwnProperty("transaction")||(e.ecommerceTriggers.transaction={}),e.ecommerceTriggers.transaction["GA-"+r]=function(e){m(r,e,t)},e.ecommerceTriggers.hasOwnProperty("refund")||(e.ecommerceTriggers.refund={}),e.ecommerceTriggers.refund["GA-"+r]=function(e){g(r,e,t)}}var p=e.GA||{},A=p.configuration||{},y=function(e){if(e.items){if(e.items.constructor!==Array){var r=[];for(var t in e.items)e.items.hasOwnProperty(t)&&(e.items[t].id=t,r.push(e.items[t]));return r}return e.items}return[]},w=function(r,t){for(var o=0,a=y(r),n=0;n<a.length;n++)a[n].hasOwnProperty("id")&&a[n].hasOwnProperty("name")&&(a[n].price&&a[n].quantity&&(o+=a[n].price*a[n].quantity),t.totalOnly||e.GA.loadAttributesForVariable(t.variable,{"ec:addProduct":a[n]}));return o};if(e.hasOwnProperty("GA")||(e.GA={}),e.GA.hasOwnProperty("initCallbacks")||(e.GA.initCallbacks={}),e.GA.initCallbacks.ecommerce=l,e.hasOwnProperty("ecommerceTriggers")||(e.ecommerceTriggers={}),e.GA.hasOwnProperty("trackers"))for(var v in e.GA.trackers)e.GA.trackers.hasOwnProperty(v)&&l(v,e.GA.trackers[v]);return p}(window.EA||{},window.jQuery||window.Zepto||window.Sprint||(window.mwm&&mwm.jquery?mwm.jquery:null));