!function(e){var t=function(t,n,o,i,r,a){function w(){o&&"undefined"!=typeof o||window.hasOwnProperty("FB")&&window.FB.hasOwnProperty("Event")&&window.FB.Event.hasOwnProperty("subscribe")&&(o=window.FB)}function d(){i&&"undefined"!=typeof i||window.hasOwnProperty("twttr")&&window.twttr.hasOwnProperty("events")&&(i=window.twttr)}function s(){r&&"undefined"!=typeof r||window.hasOwnProperty("addthis")&&(r=window.addthis)}function c(){a&&"undefined"!=typeof a||window.hasOwnProperty("EA")&&window.EA.hasOwnProperty("event")&&(a=window.EA.event)}var u=e.social||{},l=[];return null==n&&"function"==typeof require&&(n=require("jquery")),!a&&e.event?a=e.event:a&&"function"==typeof require&&(a=require("../events.js")(t?t.social||t:{},n)),u.fb=function(e,t){if(l.indexOf("fb:"+e+":"+t)===-1){try{w(),o&&(l.push("fb:"+e+":"+t),o.Event.subscribe(e,function(e){n(window).trigger("ea::social-event",[{socialNetwork:"facebook",socialAction:t,socialTarget:e}])}))}catch(i){}return u}},u.twitter=function(e,t){if(l.indexOf("twitter:"+e+":"+t)===-1){try{d(),i&&(l.push("twitter:"+e+":"+t),i.ready(function(o){o.events.bind(e,function(e){if(e){var o;e.target&&"IFRAME"==e.target.nodeName?o=social.extractParamFromUri(e.target.src,"url"):e.data&&e.data.screen_name&&(o=e.data.screen_name),e.data&&e.data.screen_name&&(t=t+" (@"+e.data.screen_name+")"),n(window).trigger("ea::social-event",[{socialNetwork:"twitter",socialAction:t,socialTarget:o}])}})}))}catch(o){}return u}},u.addthis=function(e){if(l.indexOf("addthis:"+e)===-1){try{if(s(),r){l.push("addthis:"+e);var t=function(t){var o=t.hasOwnProperty("hash")?t.hash:window.location.href;n(window).trigger("ea::social-event",[{socialNetwork:t.service,socialAction:e,socialTarget:o}])};r.addEventListener("addthis.menu.share",t),r.addEventListener("addthis.user.clickback",t)}}catch(o){}return u}},u.init=function(){u.fb("edge.create","like"),u.fb("edge.remove","unlike"),u.fb("message.send","share"),u.fb("comment.create","comment"),u.fb("comment.remove","deleted comment"),u.twitter("tweet","tweet"),u.twitter("retweet","retweet"),u.twitter("follow","follow"),u.twitter("unfollow","unfollow"),u.twitter("favorite","favourite"),u.twitter("unfavorite","unfavourite"),u.addthis("addthis:share"),n(window).on("[data-pin-do]",function(){var e=n(this);n(window).trigger("ea::social-event",[{socialNetwork:"pinterest",socialAction:e.data("pinDo"),socialTarget:window.location.href}])})},u.init(),n(window).on("mwm::loaded:js",u.init),n(window).on("ea::social-event",function(e,t){return c(),!a||(t||(t=e.detail[0]),t.hitType="social",void a(t))}),u};"object"==typeof module&&"object"==typeof module.exports&&e===module.exports?module.exports=t:(window.EA=e||window.EA,window.EA.social=t(null,window.jQuery||window.Zepto||window.Sprint||(window.mwm&&mwm.jquery?mwm.jquery:null),window.FB||null,window.twttr||null,window.addthis||null,window.EA.event?EA.event:null))}("object"==typeof module&&"object"==typeof module.exports?module.exports:window.EA||{});